Defining Storage
================

The EZASMI macro requires storage for parameter lists and work areas.
This storage must either be supplied in the CSECT containing the various
EZASMI macro function calls, or in allocated storage mapped by a DSECT
for the re-entrant case. Most of the information that you will need on
allocating storage for the EZASMI macro can be found here: www.ibm.com/support/knowledgecenter/en/SSLTBW_2.2.0/com.ibm.zos.v2r2.hala001/mstor.htm

The following considerations apply to the above referenced z/OS
document:

-   IBM states that you must clear the task storage area before invoking
    the **INITAPI** function. It should be clarified that this
    requirement also applies to those functions which implicitly perform
    an **INITAPI**. For TCP/IP for MVS 3.8 Assembler, these functions
    are **GETHOSTBYADDR**, **GETHOSTBYNAME**, **SELECT**, and
    **SOCKET**. Note that the IBM documentation for the **INITAPI**
    function failed to include the **GETHOSTBYADDR** and
    **GETHOSTBYNAME** functions.
-   Although TCP/IP for MVS 3.8 Assembler does not support the
    *APITYPE=3* option of the **INITAPI** function to request
    asynchronous operation, it is still important to note that the task
    storage area generated by **EZASMI TYPE=TASK** only provides storage
    for a single parameter list. If you have more than one task issuing
    EZASMI macros and sharing the same task storage area, then only one
    of the tasks can use the parameter list in the task storage area.
    Any other tasks must specify the *MF* option on any EZASMI macros to
    ensure that they use parameter list storage that is unique to each
    task.
